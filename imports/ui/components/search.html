<template name="search">
<div class="row hidden-row w3-border-bottom w3-border-light-grey" style="background-color: #f5f5f5">
    <div class="container" style="padding-top: 7px; padding-bottom: 7px">
    <div class="col-xs-5">
    	<p style="margin: 0px; float:left; padding: 8px 15px 8px 0px;">Search results{{searchLocation}}</p>
    </div>
    <div class="col-xs-7 smaller-fonts">
        <ol class="breadcrumb w3-right" style="margin-bottom: 0px">
            <li>
                <i class="fa fa-home"></i>  <a href="{{pathFor route='home'}}">Home</a>
            </li>
            <li class="active">
                <i class="fa fa-th"></i> Search results
            </li>
        </ol>
    </div>
    </div>
</div>

<form class="w3-hide-medium w3-hide-large search-small w3-border-bottom"  id="search-form">
    <div class="w3-row">
        <div class="col-sm-2 padding-8">
            <select class="form-control" style="border-radius:0px;" name="location" id="location">
                <option disabled="disabled" selected="selected" value="">Select your location</option>
                {{#each locations}}
                    <option {{selectedClass}} value="{{name}}">{{name}}</option>
                {{/each}}
            </select>
        </div>
        <div class="col-sm-2 padding-8">
            <select required class="form-control" style="border-radius:0px;" name="people" id="people">
                <option disabled="disabled" selected="selected" value="">How many people</option>
                {{#each persons}}
                    <option {{selectedClassPeople}} value="{{value}}">{{string}}</option>
                {{/each}}
            </select>
        </div>
        <div class="col-sm-2 padding-8">
            <input required class="form-control" type="date" min="{{currentDate}}" max="{{maximumDate}}" name="when" id="when" value="{{selectedDate}}">
        </div>
        <div class="col-sm-2 padding-8">
            <select class="form-control" style="border-radius:0px;" name="arrival_hour" id="arrival_hour">
                <option disabled="disabled" selected="selected" value="">Arrival</option>
                {{#each arrival_hours}}
                    <option {{selectedClassArrival}} value="{{this}}">{{this}}</option>
                {{/each}}
            </select>
        </div>
        <div class="col-sm-2 padding-8">
            <select class="form-control" style="border-radius: 0px;" name="leaving_hour" id="leaving_hour">
                <option disabled="disabled" selected="selected" value="">Leave</option>
                <option value="">Don't know</option>
                {{#each leaving_hours}}
                    <option {{selectedClassLeave}} value="{{this}}">{{this}}</option>
                {{/each}}
            </select>
        </div>
        <div class="col-sm-2 padding-8">
            <button type="submit" class="search-btn w3-button w3-block w3-blue w3-text-white"><i class="fa fa-search" aria-hidden="true"></i></button>
        </div>
    </div>
</form>

<!-- <div class="row filters w3-margin-bottom smaller-fonts">
    <div class="container w3-padding-8">
    <div class="col-md-6">
    	<div class="row">
    	<div class="col-xs-4">
      		<p style="padding-right: 35px; font-weight: bold; margin-bottom: 0px">FILTERS:</p>
        </div>
      	<div class="col-xs-4" style="border-right:2px solid #ccc;">
        <label class="checkbox-inline">
          	<input type="checkbox" id="name-asc">Name <span class="fa fa-sort-alpha-asc"></span>
        </label>
        </div>
        <div class="col-xs-4" style="border-right:2px solid #ccc;">
		        <label class="checkbox-inline">
            <input type="checkbox" id="name-desc">Name <span class="fa fa-sort-alpha-desc"></span>
        </label>
        </div>
        </div>
    </div>
    <div class="col-md-6">
    	<div class="row">
        <div class="col-xs-4" style="border-right:2px solid #ccc;">
        <label class="checkbox-inline">
            <input type="checkbox" id="ratings-desc">Ratings <span class="fa fa-sort-amount-desc"></span>
        </label>
        </div>
        <div class="col-xs-4" style="border-right:2px solid #ccc;">
		<label class="checkbox-inline">
            <input type="checkbox" id="expensiveness">Expensiveness <span class="fa fa-sort-amount-asc"></span>
        </label>
        </div>

        <div class="col-xs-4" style="padding-right: 0px">

          <div class="map-view">
            <input type="checkbox" value="1" id="map-view" name=""/>
            <label for="map-view"></label>
            <div></div>
          </div>
          <p style="margin: -18px 0px 0px 58px;">Map view</p>
        </div>
        </div>
    </div>
    </div>
</div> -->
<div class="row filters w3-margin-bottom">
    <div class="container smaller-fonts">
        <div class="col-xs-3 col-sm-2 col-md-1 demo1">
            <button class="w3-button color-base7 w3-hover-none border-transparent w3-border-bottom w3-hover-border-blue w3-hover-text-blue w3-left-align" style="padding-left: 0px" data-id='Demo1'>Types <i class="fa fa-angle-down" aria-hidden="true"></i></button>
        </div>
        <div class="col-xs-3 col-sm-2 col-md-1 demo1">
            <button class="w3-button color-base7 w3-hover-none border-transparent w3-border-bottom w3-hover-border-blue w3-hover-text-blue w3-left-align" style="padding-left: 0px" data-id='Demo2'>Facilities <i class="fa fa-angle-down" aria-hidden="true"></i></button>
        </div>
        <div class="col-xs-3 col-sm-2 col-md-1 demo1">
            <button class="w3-button color-base7 w3-hover-none border-transparent w3-border-bottom w3-hover-border-blue w3-hover-text-blue w3-left-align" style="padding-left: 0px" data-id='Demo3'>Sort by <i class="fa fa-angle-down" aria-hidden="true"></i></button>
        </div>
    </div>

    <div id="Demo1" class="w3-hide w3-row w3-border-top w3-border-light-grey smaller-fonts">
        <div class="container" style="padding-top: 20px; padding-bottom: 15px;">
            <div class="col-sm-2">
                <input type="checkbox" name="checkboxG4" id="checkboxG4" class="css-checkbox" /><label for="checkboxG4" class="css-label">Restaurant</label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="checkboxG5" id="checkboxG5" class="css-checkbox" /><label for="checkboxG5" class="css-label">Bar</label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="checkboxG6" id="checkboxG6" class="css-checkbox" /><label for="checkboxG6" class="css-label">Bistro</label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="checkboxG7" id="checkboxG7" class="css-checkbox" /><label for="checkboxG7" class="css-label">Pub</label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="checkboxG8" id="checkboxG8" class="css-checkbox" /><label for="checkboxG8" class="css-label">Cafeteria</label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="checkboxG9" id="checkboxG9" class="css-checkbox" /><label for="checkboxG9" class="css-label">Coffeehouse</label>
            </div>
        </div>
    </div>
    <div id="Demo2" class="w3-hide w3-row w3-border-top w3-border-light-grey smaller-fonts">
        <div class="container" style="padding-top: 20px; padding-bottom: 15px;">
            <div class="col-sm-2">
                <input type="checkbox" name="wifi" id="wifi" class="css-checkbox" /><label for="wifi" class="css-label">Wifi  <span class="fa fa-wifi"></span></label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="food" id="food" class="css-checkbox" /><label for="food" class="css-label">Food  <span class="fa fa-cutlery"></span></label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="terrace" id="terrace" class="css-checkbox" /><label for="terrace" class="css-label">Terrace  <span class="fa fa-tree"></span></label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="pet-friendly" id="pet-friendly" class="css-checkbox" /><label for="pet-friendly" class="css-label">Pet-friendly  <span class="fa fa-paw"></span></label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="creditcard_accepted" id="creditcard_accepted" class="css-checkbox" /><label for="creditcard_accepted" class="css-label">Credit card accepted <span class="fa fa-credit-card"></span></label>
            </div>
            <div class="col-sm-2">
                <input type="checkbox" name="parking" id="parking" class="css-checkbox" /><label for="parking" class="css-label">Parking <span class="mdi mdi-parking"></span></label>
            </div>
        </div>
    </div>
    <div id="Demo3" class="w3-hide w3-row w3-border-top w3-border-light-grey smaller-fonts">
        <div class="container" style="padding-top: 20px; padding-bottom: 15px;">
            <div class="col-sm-3">
                <input type="checkbox" name="name-asc" id="name-asc" class="css-checkbox" /><label for="name-asc" class="css-label">Name <span class="fa fa-sort-alpha-asc"></span></label>
            </div>
            <div class="col-sm-3">
                <input type="checkbox" name="name-desc" id="name-desc" class="css-checkbox" /><label for="name-desc" class="css-label">Name <span class="fa fa-sort-alpha-desc"></span></label>
            </div>
            <div class="col-sm-3">
                <input type="checkbox" name="ratings" id="ratings" class="css-checkbox" /><label for="ratings" class="css-label">Ratings <span class="fa fa-sort-amount-desc"></span></label>
            </div>
            <div class="col-sm-3">
                <input type="checkbox" name="expensiveness" id="expensiveness" class="css-checkbox" /><label for="expensiveness" class="css-label">Expensiveness <span class="fa fa-sort-amount-asc"></span></label>
            </div>
        </div>
    </div>
</div>
<!-- <div class="container padding-35" id="header"> -->
<!-- <div class="row w3-margin-bottom">
	<form class="form-horizontal" id="search-form">
		<div class="col-sm-10">
			<div class="row">
				<div class="col-sm-3" style="padding-right: 0px">
					<div class="form-group">
						<div class="col-sm-12">
							<select class="w3-input w3-border" name="location" id="location">
								<option disabled="disabled" selected="selected" value="">Select your location</option>
								{{#each locations}}
									<option {{selectedClass}} value="{{name}}">{{name}}</option>
								{{/each}}
							</select>
						</div>
					</div>
				</div>
				<div class="col-sm-3" style="padding-right: 0px">
					<div class="form-group">
						<div class="col-sm-12">
							<select required class="w3-input w3-border" name="people" id="people">
								<option disabled="disabled" selected="selected" value="">How many people</option>
								{{#each persons}}
									<option {{selectedClassPeople}} value="{{value}}">{{string}}</option>
								{{/each}}
							</select>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-2" style="padding-right: 0px">
					<div class="form-group">
						<div class="col-sm-12">
							<input required class="w3-input w3-border" type="date" min="{{currentDate}}" max="{{maximumDate}}" name="when" id="when" value="{{selectedDate}}">
						</div>
					</div>
				</div>
				<div class="col-sm-2" style="padding-right: 0px">
					<div class="form-group">
						<div class="col-sm-12">
							<select class="w3-input w3-border" name="arrival_hour" id="arrival_hour">
								<option disabled="disabled" selected="selected" value="">Arrival</option>
								{{#each arrival_hours}}
									<option {{selectedClassArrival}} value="{{this}}">{{this}}</option>
								{{/each}}
							</select>
						</div>
					</div>
				</div>
				<div class="col-sm-2">
					<div class="form-group">
						<div class="col-sm-12">
							<select class="w3-input w3-border" name="leaving_hour" id="leaving_hour">
								<option disabled="disabled" selected="selected" value="">Leave</option>
								<option value="">Don't know</option>
								{{#each leaving_hours}}
									<option {{selectedClassLeave}} value="{{this}}">{{this}}</option>
								{{/each}}
							</select>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-sm-2">
			<input type="submit" class="w3-button w3-block color-base4 w3-text-black w3-margin-bottom" value="SEARCH">
		</div>
	</form>
</div> -->
	<!-- {{> searchEngine}} -->
	<!-- <div class="row w3-maring-bottom"> -->
		<!-- <div class="col-sm-12"> -->
			<!-- <div class="form-group">

		        <div class="col-sm-2">
		        <label>Order by:</label>
		        </div>
		        <div class="col-sm-2">
		        <label class="checkbox-inline">
		            <input type="checkbox" id="name-asc">Name A-Z
		        </label>
		        </div>
		        <div class="col-sm-2">
		        <label class="checkbox-inline">
		            <input type="checkbox" id="name-desc">Name Z-A
		        </label>
		        </div>
		        <div class="col-sm-2">
		        <label class="checkbox-inline">
		            <input type="checkbox" id="ratings-desc">Ratings
		        </label>
		        </div>
		        <div class="col-sm-3">
		        <label class="checkbox-inline">
		            <input type="checkbox" id="expensiveness">Expensiveness ASC
		        </label>
		        </div> -->
		        <!-- <div class="col-sm-3">
		        <label class="checkbox-inline">
		            <input type="checkbox" id="map-view">Map view
		        </label>
		        </div> -->
		    <!-- </div> -->
	    <!-- </div> -->
	<!-- </div> -->
<!-- </div> -->
<!-- =========== -->
{{#if MapView}}
<div class="container">
<!-- <h1 class="w3-xxlarge w3-center" id="results"><b>Search results{{searchLocation}}</b></h1>
<hr> -->
{{> map}}
</div>
{{else}}
<div class="container">
<!-- <h1 class="w3-xxlarge w3-center" id="results"><b>Search results{{searchLocation}}</b></h1>
<hr> -->
{{#each Restaurants}}
<div class="col-sm-4 col-lg-4 col-md-4">
	<div class="thumbnail">
		{{#if avatar}}
        <img class="img-responsive" src="{{avatar.url}}" alt="">
        {{else}}
        <img src="http://placehold.it/320x150" alt="">
        {{/if}}
		<div class="caption">
			<div class="w3-row margin-minus-buttons" style="min-height: 33px">
				{{#each Tables}}
				<div class="w3-col s4 button-padding">
					<div id="reserve" name="{{this}}" restId="{{../_id}}" data-toggle="modal" class="w3-button w3-block w3-round w3-small w3-text-white color-base8">
						{{this.hour}}
					</div>
				</div>
				{{/each}}
			</div>
            <!-- The Modal -->
            {{> reservationModal}}
			<h4 class="pull-right">{{expensive}}</h4>
			<h4><a id="restaurant-details" style="cursor:default">{{name}}</a>
			</h4>
			<p>{{about}}</p>
			<a id="restaurant-details" class="btn btn-default">Reserve >></a>
			{{#if wifi}}
                <span class="fa fa-wifi" title="wifi"></span>
            {{else}}
                <span class="fa fa-wifi color-text-icons" title="wifi"></span>
            {{/if}}
            {{#if food}}
                <span class="fa fa-cutlery" title="food"></span>
            {{else}}
                <span class="fa fa-cutlery color-text-icons" title="food"></span>
            {{/if}}
            {{#if parking}}
                <span class="mdi mdi-parking" title="parking"></span>
            {{else}}
                <span class="mdi mdi-parking color-text-icons" title="parking"></span>
            {{/if}}
            {{#if terrace}}
                <span class="fa fa-tree" title="terrace"></span>
            {{else}}
                <span class="fa fa-tree color-text-icons" title="terrace"></span>
            {{/if}}
            {{#if pet_friendly}}
                <span class="fa fa-paw" title="pet-friendly"></span>
            {{else}}
                <span class="fa fa-paw color-text-icons" title="pet-friendly"></span>
            {{/if}}
            {{#if creditcard_accepted}}
                <span class="fa fa-credit-card" title="credit card accepted"></span>
            {{else}}
                <span class="fa fa-credit-card color-text-icons" title="credit card accepted"></span>
            {{/if}}

			<hr>
		</div>
		<div class="ratings">
			<div class="row">
				<div class="col-xs-6" style="padding-right:0">
					<p>
						{{#each ratings}}
							{{#if this}}
								<span class="glyphicon glyphicon-star"></span>
							{{else}}
								<span class="glyphicon glyphicon-star-empty"></span>
							{{/if}}
						{{/each}}
					</p>
				</div>
				<div class="col-xs-6" style="padding-left:0"><p class="pull-right">{{nb_reviews}} reviews</p></div>
			</div>
		</div>
	</div>
</div>
{{/each}}
</div>
{{/if}}
</template>

<template name="map">
	<div class="row">
        <div class="col-sm-7">
		    <div class="map">
		        {{> googleMap name="map" options=mapOptions}}
		    </div>
    	</div>
		<div class="col-sm-5">
		    {{#each places}}
				<div class="thumbnail">
					<div class="caption">
						<div class="w3-row margin-minus-buttons" style="min-height: 33px">
							{{#each Tables}}
							<div class="w3-col s4 button-padding">
								<div id="reserve" name="{{this}}" restId="{{../_id}}" data-toggle="modal" class="w3-button w3-block w3-round w3-small w3-text-white color-base5">
									{{this.hour}}
								</div>
							</div>
							{{/each}}
						</div>
			            <!-- The Modal -->
			            {{> reservationModal}}
						<h4 class="pull-right">{{expensive}}</h4>
						<h4><a id="restaurant-details" style="cursor:default">{{name}}</a>
						</h4>
						<p>{{about}}</p>
						<a id="restaurant-details" class="btn btn-default">Reserve >></a>
						<hr>
					</div>
					<div class="ratings">
						<div class="row">
							<div class="col-xs-6" style="padding-right:0">
								<p>
									{{#each ratings}}
										{{#if this}}
											<span class="glyphicon glyphicon-star"></span>
										{{else}}
											<span class="glyphicon glyphicon-star-empty"></span>
										{{/if}}
									{{/each}}
								</p>
							</div>
							<div class="col-xs-6" style="padding-left:0"><p class="pull-right">{{nb_reviews}} reviews</p></div>
						</div>
					</div>
				</div>
			{{/each}}
		</div>
    </div>
</template>
